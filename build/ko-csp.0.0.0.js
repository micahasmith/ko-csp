/**
 * ko-csp - csp for knockoutjs
 * @version v0.0.0
 * @link 
 * @license MIT
 */
ko.subscribable.fn.once=function(){var s=ko.observable(),b=this.subscribe(function(e){s(e),b.dispose()});return s};
ko.subscribable.fn.when=function(b){{var n=ko.observable();this.subscribe(function(e){b(e)&&n(e)})}return n};
ko.subscribable.fn.whenOnce=function(e){var n=ko.observable(),s=this.subscribe(function(b){e(b)&&(n(b),s.dispose())});return n};
ko.csp=ko.csp||{},ko.csp._u=ko.csp._u||{},ko.csp._u.isTruthy=function(s){return Boolean(s)},ko.csp._u.isFn=function(s){return s instanceof Function},ko.csp._u.getTest=function(s){return s?s.test?s.test():ko.isSubscribable(s)?s():ko.csp._u.isFn(s)?s():s:s},ko.csp.Builder=function(){this._subscribable,this._basis,this.test},ko.csp.Builder.prototype._buildFn=function(s,t){var e=ko.observable();return this.test=function(){t(s())&&e(v)},s.when(t).subscribe(e),this._subscribable=e,this},ko.csp.Builder.prototype.and=function(){var s,t=ko.csp._u,e=ko.observable(),i=t.isTruthy,u=ko.isSubscribable,r=arguments,o=!0;return s=function(){for(var n,b,c=[],h=!0,p=0,l=r.length;l>p;p++)b=r[p],n=t.getTest(b),c.push(n),t.isTruthy(n)||(h=!1),o&&u(b)&&b.when(i).subscribe(s);h&&e(c),o&&(o=!1)},this.test=s,this._subscribable=e,this},ko.csp.Builder.prototype.or=function(){var s,t=ko.csp._u,e=ko.observable(),i=t.isTruthy,u=ko.isSubscribable,r=arguments,o=!0;return s=function(){for(var n,b,c=[],h=!1,p=0,l=r.length;l>p;p++)b=r[p],n=t.getTest(b),c.push(n),t.isTruthy(n)&&(h=!0),o&&u(b)&&b.when(i).subscribe(s);h&&e(c),o&&(o=!1)},this.test=s,this._subscribable=e,this},ko.csp.Builder.prototype.isTruthy=function(s){var t=ko.csp._u,e=t.isTruthy,i=t.getTest,u=ko.isSubscribable,r=ko.observable();return this.test=function(){var t=i(s);e(t)&&r(t)},u(s)&&s.when(e).subscribe(r),this._subscribable=r,this},ko.csp.Builder.prototype.compile=function(s){return s&&this._subscribable.when(ko.csp._u.isTruthy).subscribe(s),this.test&&this.test(),this._subscribable},ko.csp.buildRule=function(s){var t;return"ko.csp.Builder"==typeof s?t=s:(t=new ko.csp.Builder,s(t)),t};